<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Manager</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<nav class="navbar navbar-dark bg-dark px-4">
  <span class="navbar-brand">Admin Manager Panel</span>
  <a href="/logout" class="btn btn-danger btn-sm">Logout</a>
</nav>

<div class="container mt-4">

<div class="row">

<!-- CREATE CENTER -->
<div class="col-md-6">
<div class="card shadow">
<div class="card-header bg-dark text-white">Create Center</div>
<div class="card-body">

<form action="/centers/create" method="POST">
<div class="mb-3">
<label>Center Name</label>
<input type="text" name="center_name" class="form-control" required>
</div>

<div class="mb-3">
<label>Center Code</label>
<input type="text" name="center_code" class="form-control" required>
</div>

<button class="btn btn-success w-100">Create Center</button>
</form>

</div>
</div>
</div>

<!-- CREATE CENTER ADMIN -->
<div class="col-md-6">
<div class="card shadow">
<div class="card-header bg-dark text-white">Create Center Admin</div>
<div class="card-body">

<form action="/admin/create-user" method="POST">

<div class="mb-3">
<label>Username</label>
<input type="text" name="username" class="form-control" required>
</div>

<div class="mb-3">
<label>Password</label>
<input type="text" name="password" class="form-control" required>
</div>

<div class="mb-3">
<label>Select Center</label>
<select name="center_id" id="centerDropdown" class="form-select" required>
</select>
</div>

<button class="btn btn-primary w-100">Create Center Admin</button>
</form>

</div>
</div>
</div>

</div>

</div>

<script>
fetch('/centers')
.then(res=>res.json())
.then(data=>{
  const dropdown = document.getElementById('centerDropdown');
  dropdown.innerHTML = data.map(c =>
    `<option value="${c.id}">${c.center_name}</option>`
  ).join('');
});
</script>

</body>
</html>
